<!DOCTYPE html> 
<html lang="ja"> 
<head> 
    <meta charset="utf-8"> 
    <title>演習課題3-4：自動販売機</title> 
</head> 
<body> 
    <script> 
        // 商品一覧を記録する連想配列の配列 
        const items =  [ 
            { id: 1, name: "緑茶", price: 140, stock: 5 }, 
            { id: 2, name: "水", price: 100, stock: 14 }, 
            { id: 3, name: "オレンジジュース", price: 150, stock: 7 }, 
            { id: 4, name: "リンゴジュース", price: 150, stock: 9 }, 
            { id: 5, name: "炭酸水", price: 120, stock: 1 }, 
            { id: 6, name: "サイダー", price: 160, stock: 3 }, 
            { id: 7, name: "コーヒー", price: 170, stock: 8 }, 
            { id: 8, name: "紅茶", price: 140, stock: 6 } 
        ]; 

        // 商品一覧の表示関数 
        function showItemList() { 
            console.log("商品は以下の" + items.length + "種類です。"); 
            for (let i = 0; i < items.length; i++) {
                console.log(`商品番号: ${items[i].id}, 商品名: ${items[i].name}, 金額: ${items[i].price}, 在庫数: ${items[i].stock}`);
            }
            console.log(""); // 空行の出力
        } 

        // 商品購入の関数 
        function buyItem(no) { 
            if (no < 1 || no > items.length) {
                console.log(`${no}は無効な商品番号です。番号は1～${items.length}で指定してください。`);
            } else {
                const item = items[no - 1];
                if (item.stock > 0) {
                    console.log(`商品番号: ${item.id}, 商品名: ${item.name}を購入します。`);
                    item.stock--; // 在庫を減らす
                } else {
                    console.log(`商品番号: ${item.id}, 商品名: ${item.name}を購入します。`);
                    console.log("在庫がありません。");
                }
            }
            showItemList(); // 商品一覧の表示関数呼び出し 
        } 

        showItemList(); // 商品一覧の表示関数呼び出し 
        buyItem(3); // 商品購入の関数呼び出し 
        buyItem(5); // 商品購入の関数呼び出し 
        buyItem(5); // 商品購入の関数呼び出し 
    </script> 
</body> 
</html>

<!-- 
期待される出力例
-----------------
商品は以下の8種類です。
商品番号: 1, 商品名: 緑茶, 金額: 140, 在庫数: 5
商品番号: 2, 商品名: 水, 金額: 100, 在庫数: 14
商品番号: 3, 商品名: オレンジジュース, 金額: 150, 在庫数: 7
商品番号: 4, 商品名: リンゴジュース, 金額: 150, 在庫数: 9
商品番号: 5, 商品名: 炭酸水, 金額: 120, 在庫数: 1
商品番号: 6, 商品名: サイダー, 金額: 160, 在庫数: 3
商品番号: 7, 商品名: コーヒー, 金額: 170, 在庫数: 8
商品番号: 8, 商品名: 紅茶, 金額: 140, 在庫数: 6

商品番号: 3, 商品名: オレンジジュースを購入します。
商品は以下の8種類です。
商品番号: 1, 商品名: 緑茶, 金額: 140, 在庫数: 5
商品番号: 2, 商品名: 水, 金額: 100, 在庫数: 14
商品番号: 3, 商品名: オレンジジュース, 金額: 150, 在庫数: 6
商品番号: 4, 商品名: リンゴジュース, 金額: 150, 在庫数: 9
商品番号: 5, 商品名: 炭酸水, 金額: 120, 在庫数: 1
商品番号: 6, 商品名: サイダー, 金額: 160, 在庫数: 3
商品番号: 7, 商品名: コーヒー, 金額: 170, 在庫数: 8
商品番号: 8, 商品名: 紅茶, 金額: 140, 在庫数: 6

商品番号: 5, 商品名: 炭酸水を購入します。
商品は以下の8種類です。
商品番号: 1, 商品名: 緑茶, 金額: 140, 在庫数: 5
商品番号: 2, 商品名: 水, 金額: 100, 在庫数: 14
商品番号: 3, 商品名: オレンジジュース, 金額: 150, 在庫数: 6
商品番号: 4, 商品名: リンゴジュース, 金額: 150, 在庫数: 9
商品番号: 5, 商品名: 炭酸水, 金額: 120, 在庫数: 0
商品番号: 6, 商品名: サイダー, 金額: 160, 在庫数: 3
商品番号: 7, 商品名: コーヒー, 金額: 170, 在庫数: 8
商品番号: 8, 商品名: 紅茶, 金額: 140, 在庫数: 6

商品番号: 5, 商品名: 炭酸水を購入します。
在庫がありません。
商品は以下の8種類です。
商品番号: 1, 商品名: 緑茶, 金額: 140, 在庫数: 5
商品番号: 2, 商品名: 水, 金額: 100, 在庫数: 14
商品番号: 3, 商品名: オレンジジュース, 金額: 150, 在庫数: 6
商品番号: 4, 商品名: リンゴジュース, 金額: 150, 在庫数: 9
商品番号: 5, 商品名: 炭酸水, 金額: 120, 在庫数: 0
商品番号: 6, 商品名: サイダー, 金額: 160, 在庫数: 3
商品番号: 7, 商品名: コーヒー, 金額: 170, 在庫数: 8
商品番号: 8, 商品名: 紅茶, 金額: 140, 在庫数: 6
-->
